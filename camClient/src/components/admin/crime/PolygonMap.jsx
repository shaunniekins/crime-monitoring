import React, { useEffect } from "react";
import { clientUrl } from "../../../urlConfig";

const PolygonMap = ({ crimes, barangay, index, nonIndex }) => {
  useEffect(() => {
    // Initialize the map
    const map = new window.google.maps.Map(document.getElementById("map"), {
      center: { lat: 8.211715, lng: 125.978827 },
      zoom: 12,
      zoomControl: false,
      fullscreenControl: false,
      streetViewControl: false,
      mapTypeControl: false,
      // mapTypeControlOptions: {
      //   position: window.google.maps.ControlPosition.TOP_RIGHT,
      // },
    });

    // Define the polygons
    let polygons = [
      {
        coordinates: [
          { lat: 8.211715, lng: 125.978827 },
          { lat: 8.29038, lng: 125.959861 },
          { lat: 8.291032, lng: 126.034027 },
        ],
        fillColor: "#FF0000",
        title: "Consuelo",
      },
      {
        coordinates: [
          // { lat: 8.140097, lng: 126.148027 },
          { lat: 8.136747, lng: 126.031397 },
          { lat: 8.137914, lng: 126.028805 },
          { lat: 8.13614, lng: 126.025458 },
          { lat: 8.13684, lng: 126.024656 },
          { lat: 8.157465, lng: 126.016926 },
          { lat: 8.161715, lng: 126.012468 },
          { lat: 8.164202, lng: 126.011755 },
          { lat: 8.170457, lng: 126.017264 },
          { lat: 8.170582, lng: 126.017126 },
          { lat: 8.171867, lng: 126.016261 },
          { lat: 8.176074, lng: 126.022596 },
          { lat: 8.178255, lng: 126.020157 },
          { lat: 8.184137, lng: 126.024171 },
          { lat: 8.184955, lng: 126.026886 },
          { lat: 8.185267, lng: 126.03031 },
          { lat: 8.185194, lng: 126.030201 },
          { lat: 8.290341, lng: 126.123276 },
          { lat: 8.285155, lng: 126.270509 },
          { lat: 8.140979, lng: 126.148335 },
          // { lat: 8.140097, lng: 126.270509 },
        ],
        fillColor: "#ffff00",
        title: "Bunawan Brook",
      },
      {
        coordinates: [
          { lat: 8.136299, lng: 126.026303 },
          { lat: 8.135897, lng: 126.025812 },
          { lat: 8.135796, lng: 126.025254 },
          { lat: 8.138374, lng: 126.018846 },
          { lat: 8.138357, lng: 126.017358 },
          { lat: 8.137855, lng: 126.016783 },
          { lat: 8.135964, lng: 126.016141 },
          { lat: 8.136181, lng: 126.014754 },
          { lat: 8.136684, lng: 126.014568 },
          { lat: 8.138592, lng: 126.015008 },
          { lat: 8.140684, lng: 126.014365 },
          { lat: 8.142877, lng: 126.014247 },
          { lat: 8.143228, lng: 126.013571 },
          { lat: 8.143044, lng: 126.013165 },
          {
            lat: 8.141521,
            lng: 126.012404,
          },
          {
            lat: 8.1405,
            lng: 126.012421,
          },
          {
            lat: 8.137236,
            lng: 126.013638,
          },
          {
            lat: 8.136801,
            lng: 126.013537,
          },
          {
            lat: 8.136416,
            lng: 126.013199,
          },
          {
            lat: 8.136048,
            lng: 126.011914,
          },
          {
            lat: 8.1366,
            lng: 126.010003,
          },
          {
            lat: 8.138592,
            lng: 126.00794,
          },
          {
            lat: 8.139094,
            lng: 126.006875,
          },
          {
            lat: 8.139596,
            lng: 126.004474,
          },
          {
            lat: 8.139914,
            lng: 126.004068,
          },
          {
            lat: 8.142157,
            lng: 126.003696,
          },
          {
            lat: 8.143362,
            lng: 126.003138,
          },
          {
            lat: 8.144065,
            lng: 126.002327,
          },
          {
            lat: 8.144165,
            lng: 126.001921,
          },
          {
            lat: 8.139646,
            lng: 125.989172,
          },
          {
            lat: 8.16238,
            lng: 125.988967,
          },
          {
            lat: 8.149453,
            lng: 125.954367,
          },
          {
            lat: 8.154491,
            lng: 125.952946,
          },
          {
            lat: 8.156867,
            lng: 125.952727,
          },
          {
            lat: 8.159428,
            lng: 125.950714,
          },
          {
            lat: 8.162759,
            lng: 125.949632,
          },
          {
            lat: 8.163495,
            lng: 125.951442,
          },
          {
            lat: 8.164366,
            lng: 125.952625,
          },
          {
            lat: 8.165688,
            lng: 125.956599,
          },
          {
            lat: 8.167462,
            lng: 125.958695,
          },
          {
            lat: 8.180421,
            lng: 126.005554,
          },
          {
            lat: 8.177559,
            lng: 126.007109,
          },
          {
            lat: 8.176956,
            lng: 126.007988,
          },
          {
            lat: 8.176354,
            lng: 126.011708,
          },
          {
            lat: 8.176119,
            lng: 126.018708,
          },
          { lat: 8.17632, lng: 126.020501 },
          {
            lat: 8.176973,
            lng: 126.021769,
          },
          {
            lat: 8.176203,
            lng: 126.022563,
          },
          {
            lat: 8.176198,
            lng: 126.022547,
          },
          {
            lat: 8.174829,
            lng: 126.021528,
          },
          {
            lat: 8.173964,
            lng: 126.019975,
          },
          {
            lat: 8.173748,
            lng: 126.018617,
          },
          {
            lat: 8.173292,
            lng: 126.018083,
          },
          {
            lat: 8.172716,
            lng: 126.016991,
          },
          {
            lat: 8.171827,
            lng: 126.016264,
          },
          {
            lat: 8.171347,
            lng: 126.016312,
          },
          {
            lat: 8.170616,
            lng: 126.017129,
          },
          {
            lat: 8.169925,
            lng: 126.017129,
          },
          {
            lat: 8.169615,
            lng: 126.016885,
          },
          {
            lat: 8.168685,
            lng: 126.014831,
          },
          {
            lat: 8.164102,
            lng: 126.011594,
          },
          {
            lat: 8.161597,
            lng: 126.012355,
          },
          {
            lat: 8.159291,
            lng: 126.014529,
          },
          {
            lat: 8.157377,
            lng: 126.016952,
          },
          {
            lat: 8.150397,
            lng: 126.018447,
          },
          {
            lat: 8.142678,
            lng: 126.022902,
          },
          {
            lat: 8.140576,
            lng: 126.02339,
          },
          {
            lat: 8.139164,
            lng: 126.024155,
          },
          {
            lat: 8.136648,
            lng: 126.024851,
          },
          {
            lat: 8.1362,
            lng: 126.025513,
          },
        ],
        fillColor: "#ff1493",
        title: "San Teodoro",
      },
      {
        coordinates: [
          {
            lat: 8.103423,
            lng: 126.090375,
          },
          {
            lat: 8.103134,
            lng: 126.025333,
          },
          {
            lat: 8.135828,
            lng: 126.025509,
          },
          {
            lat: 8.13588,
            lng: 126.02581,
          },
          {
            lat: 8.136571,
            lng: 126.026914,
          },
          {
            lat: 8.137087,
            lng: 126.027464,
          },
          {
            lat: 8.137778,
            lng: 126.028601,
          },
          {
            lat: 8.13783,
            lng: 126.028912,
          },
          {
            lat: 8.137754,
            lng: 126.029471,
          },
          {
            lat: 8.137101,
            lng: 126.030895,
          },
          {
            lat: 8.136458,
            lng: 126.03166,
          },
          {
            lat: 8.136117,
            lng: 126.031727,
          },
          {
            lat: 8.135526,
            lng: 126.031674,
          },
          {
            lat: 8.135194,
            lng: 126.031387,
          },
          {
            lat: 8.134149,
            lng: 126.029485,
          },
          {
            lat: 8.134073,
            lng: 126.029285,
          },
          {
            lat: 8.133492,
            lng: 126.028953,
          },
          {
            lat: 8.131572,
            lng: 126.031626,
          },
          {
            lat: 8.128914,
            lng: 126.032648,
          },
        ],
        fillColor: "#32cd32",
        title: "Libertad",
      },
      {
        coordinates: [
          {
            lat: 8.290348,
            lng: 126.123195,
          },
          {
            lat: 8.185514,
            lng: 126.030295,
          },
          {
            lat: 8.184559,
            lng: 126.028043,
          },
          {
            lat: 8.185037,
            lng: 126.026756,
          },
          {
            lat: 8.1844,
            lng: 126.024424,
          },
          {
            lat: 8.180658,
            lng: 126.020643,
          },
          {
            lat: 8.178588,
            lng: 126.020241,
          },
          {
            lat: 8.176916,
            lng: 126.02185,
          },
          {
            lat: 8.176438,
            lng: 126.020322,
          },
          {
            lat: 8.176598,
            lng: 126.011394,
          },
          {
            lat: 8.176996,
            lng: 126.008257,
          },
          {
            lat: 8.177712,
            lng: 126.007051,
          },
          {
            lat: 8.180734,
            lng: 126.005386,
          },
          {
            lat: 8.183769,
            lng: 126.003298,
          },
          {
            lat: 8.187934,
            lng: 126.002222,
          },
          {
            lat: 8.195489,
            lng: 126.002874,
          },
          {
            lat: 8.196005,
            lng: 126.002898,
          },
          {
            lat: 8.20695,
            lng: 126.002763,
          },
          {
            lat: 8.207519,
            lng: 126.001748,
          },
          {
            lat: 8.207151,
            lng: 125.998942,
          },
          {
            lat: 8.205611,
            lng: 125.998062,
          },
          {
            lat: 8.202666,
            lng: 125.99742,
          },
          {
            lat: 8.201662,
            lng: 125.996101,
          },
          {
            lat: 8.202614,
            lng: 125.994422,
          },
          {
            lat: 8.204289,
            lng: 125.993105,
          },
          { lat: 8.205766, lng: 125.991565 },
          { lat: 8.205347, lng: 125.988182 },
          {
            lat: 8.204178,
            lng: 125.987487,
          },
          {
            lat: 8.203151,
            lng: 125.987495,
          },
          {
            lat: 8.202456,
            lng: 125.986873,
          },
          {
            lat: 8.203404,
            lng: 125.986131,
          },
          {
            lat: 8.204387,
            lng: 125.985923,
          },
          {
            lat: 8.205238,
            lng: 125.982711,
          },
          {
            lat: 8.208203,
            lng: 125.980618,
          },
          {
            lat: 8.209479,
            lng: 125.98038,
          },
          {
            lat: 8.210739,
            lng: 125.97916,
          },
          {
            lat: 8.211694,
            lng: 125.978758,
          },
          {
            lat: 8.29094,
            lng: 126.034932,
          },
        ],
        fillColor: "#ff4500",
        title: "San Andres",
      },
      {
        coordinates: [
          {
            lat: 8.140134,
            lng: 126.147826,
          },
          {
            lat: 8.103316,
            lng: 126.116472,
          },
          {
            lat: 8.103564,
            lng: 126.090455,
          },
          {
            lat: 8.129072,
            lng: 126.032668,
          },
          {
            lat: 8.131555,
            lng: 126.031634,
          },
          {
            lat: 8.133511,
            lng: 126.02898,
          },
          {
            lat: 8.13407,
            lng: 126.029234,
          },
          {
            lat: 8.135132,
            lng: 126.031295,
          },
          {
            lat: 8.135523,
            lng: 126.031674,
          },
          {
            lat: 8.136084,
            lng: 126.031729,
          },
          {
            lat: 8.136463,
            lng: 126.03165,
          },
          {
            lat: 8.136716,
            lng: 126.031394,
          },
          {
            lat: 8.136906,
            lng: 126.033485,
          },
        ],
        fillColor: "#800080",
        title: "Imelda",
      },
      {
        coordinates: [
          {
            lat: 8.18044,
            lng: 126.005527,
          },
          {
            lat: 8.167523,
            lng: 125.95858,
          },
          {
            lat: 8.165703,
            lng: 125.956615,
          },
          {
            lat: 8.164886,
            lng: 125.954764,
          },
          {
            lat: 8.164338,
            lng: 125.952667,
          },
          {
            lat: 8.163475,
            lng: 125.951347,
          },
          { lat: 8.162775, lng: 125.949662 },
          {
            lat: 8.163428,
            lng: 125.948177,
          },
          {
            lat: 8.165248,
            lng: 125.945891,
          },
          {
            lat: 8.16568,
            lng: 125.944936,
          },
          {
            lat: 8.167709,
            lng: 125.943003,
          },
          {
            lat: 8.169692,
            lng: 125.942379,
          },
          {
            lat: 8.180296,
            lng: 125.93816,
          },
          {
            lat: 8.181859,
            lng: 125.937429,
          },
          {
            lat: 8.182769,
            lng: 125.936274,
          },
          {
            lat: 8.183574,
            lng: 125.934613,
          },
          {
            lat: 8.186361,
            lng: 125.93202,
          },
          {
            lat: 8.189394,
            lng: 125.929345,
          },
          {
            lat: 8.189931,
            lng: 125.928049,
          },
          {
            lat: 8.190047,
            lng: 125.925857,
          },
          {
            lat: 8.190456,
            lng: 125.924631,
          },
          {
            lat: 8.191342,
            lng: 125.923028,
          },
          {
            lat: 8.192182,
            lng: 125.922357,
          },
          {
            lat: 8.194696,
            lng: 125.9221,
          },
          {
            lat: 8.195664,
            lng: 125.921657,
          },
          {
            lat: 8.19872,
            lng: 125.921805,
          },
          {
            lat: 8.199476,
            lng: 125.921977,
          },
          {
            lat: 8.200626,
            lng: 125.92082,
          },
          {
            lat: 8.200667,
            lng: 125.920059,
          },
          {
            lat: 8.20104,
            lng: 125.91951,
          },
          {
            lat: 8.202534,
            lng: 125.919284,
          },
          {
            lat: 8.205128,
            lng: 125.919125,
          },
          {
            lat: 8.205882,
            lng: 125.918654,
          },
          {
            lat: 8.207071,
            lng: 125.918554,
          },
          {
            lat: 8.207691,
            lng: 125.919636,
          },
          {
            lat: 8.207525,
            lng: 125.920968,
          },
          {
            lat: 8.207146,
            lng: 125.922448,
          },
          {
            lat: 8.207993,
            lng: 125.938784,
          },
          {
            lat: 8.208461,
            lng: 125.939714,
          },
          {
            lat: 8.208361,
            lng: 125.940728,
          },
          {
            lat: 8.208344,
            lng: 125.947289,
          },
          {
            lat: 8.208729,
            lng: 125.948405,
          },
          {
            lat: 8.210029,
            lng: 125.977508,
          },
          {
            lat: 8.211673,
            lng: 125.978784,
          },
          {
            lat: 8.210751,
            lng: 125.979149,
          },
          {
            lat: 8.209468,
            lng: 125.980384,
          },
          {
            lat: 8.208205,
            lng: 125.980587,
          },
          {
            lat: 8.205238,
            lng: 125.982673,
          },
          {
            lat: 8.204396,
            lng: 125.985954,
          },
          {
            lat: 8.203394,
            lng: 125.986116,
          },
          {
            lat: 8.202452,
            lng: 125.986865,
          },
          {
            lat: 8.203214,
            lng: 125.987493,
          },
          {
            lat: 8.20419,
            lng: 125.987491,
          },
          {
            lat: 8.205339,
            lng: 125.9882,
          },
          {
            lat: 8.20566,
            lng: 125.989675,
          },
          {
            lat: 8.205777,
            lng: 125.991574,
          },
          {
            lat: 8.204268,
            lng: 125.993109,
          },
          {
            lat: 8.203596,
            lng: 125.993522,
          },
          {
            lat: 8.202593,
            lng: 125.994467,
          },
          {
            lat: 8.20157,
            lng: 125.99612,
          },
          {
            lat: 8.202554,
            lng: 125.997428,
          },
          {
            lat: 8.203898,
            lng: 125.997841,
          },
          {
            lat: 8.205592,
            lng: 125.998058,
          },
          {
            lat: 8.207043,
            lng: 125.998855,
          },
          {
            lat: 8.20751,
            lng: 126.001875,
          },
          {
            lat: 8.206965,
            lng: 126.00278,
          },
          {
            lat: 8.202335,
            lng: 126.003059,
          },
          {
            lat: 8.195227,
            lng: 126.002865,
          },
          { lat: 8.191601, lng: 126.002331 },
          { lat: 8.188, lng: 126.002186 },
          {
            lat: 8.183845,
            lng: 126.003132,
          },
        ],
        fillColor: "#ff00ff",
        title: "Poblacion",
      },
      {
        coordinates: [
          {
            lat: 8.211782,
            lng: 125.978622,
          },
          {
            lat: 8.210151,
            lng: 125.977404,
          },
          {
            lat: 8.208874,
            lng: 125.948455,
          },
          {
            lat: 8.208349,
            lng: 125.947269,
          },
          {
            lat: 8.208382,
            lng: 125.940801,
          },
          {
            lat: 8.208466,
            lng: 125.939736,
          },
          {
            lat: 8.207997,
            lng: 125.938755,
          },
          {
            lat: 8.207177,
            lng: 125.922472,
          },
          {
            lat: 8.207562,
            lng: 125.920984,
          },
          { lat: 8.2077, lng: 125.919652 },
          { lat: 8.2071, lng: 125.918575 },
          { lat: 8.205985, lng: 125.896188 },
          {
            lat: 8.206082,
            lng: 125.890649,
          },
          {
            lat: 8.206919,
            lng: 125.890757,
          },
          {
            lat: 8.207281,
            lng: 125.890906,
          },
          {
            lat: 8.207558,
            lng: 125.891153,
          },
          {
            lat: 8.207633,
            lng: 125.891362,
          },
          {
            lat: 8.207633,
            lng: 125.891729,
          },
          {
            lat: 8.207486,
            lng: 125.89223,
          },
          {
            lat: 8.207512,
            lng: 125.892808,
          },
          {
            lat: 8.207829,
            lng: 125.893407,
          },
          {
            lat: 8.208917,
            lng: 125.894078,
          },
          {
            lat: 8.210015,
            lng: 125.894366,
          },
          {
            lat: 8.210532,
            lng: 125.894628,
          },
          {
            lat: 8.210757,
            lng: 125.894858,
          },
          {
            lat: 8.210787,
            lng: 125.895065,
          },
          {
            lat: 8.210766,
            lng: 125.8954,
          },
          {
            lat: 8.210608,
            lng: 125.895685,
          },
          {
            lat: 8.210257,
            lng: 125.895905,
          },
          {
            lat: 8.209081,
            lng: 125.896243,
          },
          {
            lat: 8.208939,
            lng: 125.8964,
          },
          {
            lat: 8.208868,
            lng: 125.896568,
          },
          {
            lat: 8.208906,
            lng: 125.896931,
          },
          {
            lat: 8.209738,
            lng: 125.897825,
          },
          {
            lat: 8.210235,
            lng: 125.897987,
          },
          {
            lat: 8.210651,
            lng: 125.897963,
          },
          {
            lat: 8.210893,
            lng: 125.897724,
          },
          {
            lat: 8.211749,
            lng: 125.896501,
          },
          {
            lat: 8.212198,
            lng: 125.896133,
          },
          {
            lat: 8.212865,
            lng: 125.895999,
          },
          {
            lat: 8.213319,
            lng: 125.896095,
          },
          {
            lat: 8.213915,
            lng: 125.896496,
          },
          {
            lat: 8.213962,
            lng: 125.896768,
          },
          {
            lat: 8.213239,
            lng: 125.898398,
          },
          {
            lat: 8.213234,
            lng: 125.898823,
          },
          {
            lat: 8.213357,
            lng: 125.899717,
          },
          {
            lat: 8.213319,
            lng: 125.900439,
          },
          {
            lat: 8.213461,
            lng: 125.902045,
          },
          {
            lat: 8.213664,
            lng: 125.902446,
          },
          {
            lat: 8.213877,
            lng: 125.902685,
          },
          {
            lat: 8.2141,
            lng: 125.902692,
          },
          {
            lat: 8.214378,
            lng: 125.902489,
          },
          {
            lat: 8.215371,
            lng: 125.900993,
          },
          {
            lat: 8.215834,
            lng: 125.900637,
          },
          {
            lat: 8.216145,
            lng: 125.900573,
          },
          {
            lat: 8.216513,
            lng: 125.900573,
          },
          {
            lat: 8.218058,
            lng: 125.901216,
          },
          {
            lat: 8.219188,
            lng: 125.901794,
          },
          {
            lat: 8.219567,
            lng: 125.9022,
          },
          {
            lat: 8.219709,
            lng: 125.902487,
          },
          {
            lat: 8.219472,
            lng: 125.904676,
          },
          {
            lat: 8.219614,
            lng: 125.906234,
          },
          {
            lat: 8.219572,
            lng: 125.907101,
          },
          {
            lat: 8.221221,
            lng: 125.908343,
          },
          {
            lat: 8.221533,
            lng: 125.908239,
          },
          {
            lat: 8.221708,
            lng: 125.907985,
          },
          {
            lat: 8.222309,
            lng: 125.905448,
          },
          {
            lat: 8.222419,
            lng: 125.905134,
          },
          {
            lat: 8.222458,
            lng: 125.905078,
          },
          {
            lat: 8.222543,
            lng: 125.90489,
          },
          {
            lat: 8.222695,
            lng: 125.904679,
          },
          {
            lat: 8.223557,
            lng: 125.904769,
          },
          {
            lat: 8.223798,
            lng: 125.904971,
          },
          {
            lat: 8.22411,
            lng: 125.905148,
          },
          {
            lat: 8.224591,
            lng: 125.905313,
          },
          {
            lat: 8.224977,
            lng: 125.905392,
          },
          {
            lat: 8.225218,
            lng: 125.905389,
          },
          {
            lat: 8.227119,
            lng: 125.974764,
          },
        ],
        fillColor: "#008080",
        title: "Mambalili",
      },
      {
        coordinates: [
          {
            lat: 8.149477,
            lng: 125.954293,
          },
          {
            lat: 8.130208,
            lng: 125.905448,
          },
          {
            lat: 8.130354,
            lng: 125.905103,
          },
          {
            lat: 8.131069,
            lng: 125.90599,
          },
          {
            lat: 8.131382,
            lng: 125.906206,
          },
          {
            lat: 8.131662,
            lng: 125.906495,
          },
          {
            lat: 8.131905,
            lng: 125.90694,
          },
          {
            lat: 8.132362,
            lng: 125.907858,
          },
          {
            lat: 8.132659,
            lng: 125.908002,
          },
          {
            lat: 8.133017,
            lng: 125.908052,
          },
          {
            lat: 8.133622,
            lng: 125.907902,
          },
          {
            lat: 8.134734,
            lng: 125.906907,
          },
          {
            lat: 8.135054,
            lng: 125.906751,
          },
          {
            lat: 8.13556,
            lng: 125.90669,
          },
          {
            lat: 8.135698,
            lng: 125.906701,
          },
          {
            lat: 8.135881,
            lng: 125.906806,
          },
          {
            lat: 8.136127,
            lng: 125.907088,
          },
          {
            lat: 8.136317,
            lng: 125.907426,
          },
          {
            lat: 8.136439,
            lng: 125.908053,
          },
          { lat: 8.136392, lng: 125.908624 },
          { lat: 8.136406, lng: 125.909163 },
          { lat: 8.136529, lng: 125.909679 },
          {
            lat: 8.136792,
            lng: 125.910092,
          },
          {
            lat: 8.137509,
            lng: 125.910383,
          },
          {
            lat: 8.138598,
            lng: 125.910451,
          },
          {
            lat: 8.139718,
            lng: 125.910415,
          },
          {
            lat: 8.140066,
            lng: 125.910327,
          },
          {
            lat: 8.140157,
            lng: 125.910224,
          },
          {
            lat: 8.14044,
            lng: 125.90929,
          },
          {
            lat: 8.140571,
            lng: 125.909254,
          },
          {
            lat: 8.140782,
            lng: 125.90929,
          },
          {
            lat: 8.141119,
            lng: 125.909793,
          },
          {
            lat: 8.141482,
            lng: 125.91035,
          },
          {
            lat: 8.141656,
            lng: 125.910395,
          },
          {
            lat: 8.142109,
            lng: 125.910256,
          },
          {
            lat: 8.14226,
            lng: 125.910312,
          },
          {
            lat: 8.142511,
            lng: 125.910691,
          },
          {
            lat: 8.14275,
            lng: 125.910911,
          },
          {
            lat: 8.143104,
            lng: 125.911011,
          },
          {
            lat: 8.143926,
            lng: 125.911052,
          },
          {
            lat: 8.14404,
            lng: 125.911073,
          },
          {
            lat: 8.1444,
            lng: 125.91135,
          },
          {
            lat: 8.14442,
            lng: 125.911851,
          },
          {
            lat: 8.144698,
            lng: 125.912365,
          },
          {
            lat: 8.144998,
            lng: 125.91263,
          },
          {
            lat: 8.14566,
            lng: 125.91298,
          },
          {
            lat: 8.145921,
            lng: 125.913327,
          },
          {
            lat: 8.147132,
            lng: 125.914374,
          },
          {
            lat: 8.147319,
            lng: 125.914419,
          },
          {
            lat: 8.147404,
            lng: 125.914387,
          },
          {
            lat: 8.148088,
            lng: 125.913798,
          },
          {
            lat: 8.148459,
            lng: 125.913664,
          },
          {
            lat: 8.14908,
            lng: 125.91359,
          },
          {
            lat: 8.149544,
            lng: 125.913506,
          },
          {
            lat: 8.149965,
            lng: 125.913393,
          },
          {
            lat: 8.150497,
            lng: 125.91337,
          },
          {
            lat: 8.150784,
            lng: 125.913427,
          },
          {
            lat: 8.151013,
            lng: 125.913513,
          },
          {
            lat: 8.15135,
            lng: 125.913707,
          },
          {
            lat: 8.151555,
            lng: 125.913928,
          },
          {
            lat: 8.151816,
            lng: 125.914029,
          },
          {
            lat: 8.152068,
            lng: 125.914086,
          },
          {
            lat: 8.152374,
            lng: 125.914042,
          },
          {
            lat: 8.152635,
            lng: 125.913973,
          },
          {
            lat: 8.152763,
            lng: 125.91395,
          },
          {
            lat: 8.153641,
            lng: 125.914103,
          },
          {
            lat: 8.154035,
            lng: 125.914152,
          },
          {
            lat: 8.154301,
            lng: 125.914155,
          },
          {
            lat: 8.154916,
            lng: 125.914061,
          },
          {
            lat: 8.155044,
            lng: 125.9141,
          },
          {
            lat: 8.15589,
            lng: 125.914744,
          },
          {
            lat: 8.156764,
            lng: 125.914789,
          },
          {
            lat: 8.157065,
            lng: 125.914731,
          },
          {
            lat: 8.157501,
            lng: 125.91441,
          },
          {
            lat: 8.157555,
            lng: 125.914061,
          },
          {
            lat: 8.157696,
            lng: 125.913864,
          },
          {
            lat: 8.157965,
            lng: 125.913711,
          },
          {
            lat: 8.158164,
            lng: 125.913524,
          },
          {
            lat: 8.158302,
            lng: 125.913132,
          },
          { lat: 8.159042, lng: 125.9123 },
          {
            lat: 8.159644,
            lng: 125.912304,
          },
          {
            lat: 8.159843,
            lng: 125.912436,
          },
          {
            lat: 8.160256,
            lng: 125.912601,
          },
          {
            lat: 8.160695,
            lng: 125.912627,
          },
          {
            lat: 8.160858,
            lng: 125.912582,
          },
          {
            lat: 8.160916,
            lng: 125.91222,
          },
          {
            lat: 8.161041,
            lng: 125.912016,
          },
          {
            lat: 8.161406,
            lng: 125.911757,
          },
          {
            lat: 8.162008,
            lng: 125.911446,
          },
          {
            lat: 8.163071,
            lng: 125.910424,
          },
          {
            lat: 8.163104,
            lng: 125.910187,
          },
          {
            lat: 8.162947,
            lng: 125.909508,
          },
          {
            lat: 8.162979,
            lng: 125.908653,
          },
          {
            lat: 8.163136,
            lng: 125.908106,
          },
          {
            lat: 8.163568,
            lng: 125.907734,
          },
          {
            lat: 8.163869,
            lng: 125.907712,
          },
          {
            lat: 8.164929,
            lng: 125.907835,
          },
          {
            lat: 8.165339,
            lng: 125.907767,
          },
          {
            lat: 8.165554,
            lng: 125.907683,
          },
          {
            lat: 8.165938,
            lng: 125.907382,
          },
          {
            lat: 8.166092,
            lng: 125.907048,
          },
          {
            lat: 8.166268,
            lng: 125.905378,
          },
          {
            lat: 8.166073,
            lng: 125.905107,
          },
          { lat: 8.165708, lng: 125.904938 },
          { lat: 8.16556, lng: 125.904809 },
          {
            lat: 8.165522,
            lng: 125.904654,
          },
          {
            lat: 8.165532,
            lng: 125.904401,
          },
          {
            lat: 8.165733,
            lng: 125.904042,
          },
          {
            lat: 8.166034,
            lng: 125.902801,
          },
          {
            lat: 8.165841,
            lng: 125.902272,
          },
          {
            lat: 8.164938,
            lng: 125.901583,
          },
          {
            lat: 8.164751,
            lng: 125.901132,
          },
          {
            lat: 8.164756,
            lng: 125.900899,
          },
          {
            lat: 8.164547,
            lng: 125.899575,
          },
          {
            lat: 8.16356,
            lng: 125.898984,
          },
          {
            lat: 8.163983,
            lng: 125.897684,
          },
          {
            lat: 8.164143,
            lng: 125.897127,
          },
          {
            lat: 8.164896,
            lng: 125.89658,
          },
          {
            lat: 8.165405,
            lng: 125.895988,
          },
          {
            lat: 8.166238,
            lng: 125.89546,
          },
          {
            lat: 8.166712,
            lng: 125.895454,
          },
          {
            lat: 8.167362,
            lng: 125.895949,
          },
          {
            lat: 8.168592,
            lng: 125.896671,
          },
          {
            lat: 8.169217,
            lng: 125.897208,
          },
          {
            lat: 8.170034,
            lng: 125.897263,
          },
          {
            lat: 8.171728,
            lng: 125.897072,
          },
          {
            lat: 8.172756,
            lng: 125.897156,
          },
          {
            lat: 8.173268,
            lng: 125.89735,
          },
          {
            lat: 8.174877,
            lng: 125.898254,
          },
          {
            lat: 8.175897,
            lng: 125.898735,
          },
          {
            lat: 8.176129,
            lng: 125.898175,
          },
          {
            lat: 8.176586,
            lng: 125.897614,
          },
          {
            lat: 8.176597,
            lng: 125.89723,
          },
          {
            lat: 8.176387,
            lng: 125.896835,
          },
          {
            lat: 8.176338,
            lng: 125.896446,
          },
          {
            lat: 8.176409,
            lng: 125.896123,
          },
          {
            lat: 8.176597,
            lng: 125.895823,
          },
          {
            lat: 8.177632,
            lng: 125.895089,
          },
          {
            lat: 8.179002,
            lng: 125.895127,
          },
          {
            lat: 8.179322,
            lng: 125.895328,
          },
          {
            lat: 8.179608,
            lng: 125.89703,
          },
          {
            lat: 8.180213,
            lng: 125.898036,
          },
          {
            lat: 8.181138,
            lng: 125.898631,
          },
          {
            lat: 8.183313,
            lng: 125.899021,
          },
          {
            lat: 8.183643,
            lng: 125.898909,
          },
          {
            lat: 8.184287,
            lng: 125.898114,
          },
          {
            lat: 8.184485,
            lng: 125.898042,
          },
          {
            lat: 8.185636,
            lng: 125.898426,
          },
          {
            lat: 8.18733,
            lng: 125.898226,
          },
          {
            lat: 8.189417,
            lng: 125.894397,
          },
          {
            lat: 8.190522,
            lng: 125.893631,
          },
          {
            lat: 8.190852,
            lng: 125.89356,
          },
          {
            lat: 8.191025,
            lng: 125.893635,
          },
          {
            lat: 8.191739,
            lng: 125.894189,
          },
          {
            lat: 8.192304,
            lng: 125.894314,
          },
          {
            lat: 8.196494,
            lng: 125.894381,
          },
          {
            lat: 8.196984,
            lng: 125.894118,
          },
          {
            lat: 8.19719,
            lng: 125.893851,
          },
          {
            lat: 8.197178,
            lng: 125.893372,
          },
          {
            lat: 8.196584,
            lng: 125.892306,
          },
          {
            lat: 8.196461,
            lng: 125.891702,
          },
          {
            lat: 8.196514,
            lng: 125.891318,
          },
          {
            lat: 8.198444,
            lng: 125.890893,
          },
          {
            lat: 8.198881,
            lng: 125.890972,
          },
          {
            lat: 8.199034,
            lng: 125.891156,
          },
          {
            lat: 8.199092,
            lng: 125.891539,
          },
          {
            lat: 8.198877,
            lng: 125.893793,
          },
          {
            lat: 8.199125,
            lng: 125.894064,
          },
          {
            lat: 8.200032,
            lng: 125.894235,
          },
          {
            lat: 8.200787,
            lng: 125.894068,
          },
          {
            lat: 8.202848,
            lng: 125.892893,
          },
          {
            lat: 8.203096,
            lng: 125.892518,
          },
          {
            lat: 8.203216,
            lng: 125.891272,
          },
          {
            lat: 8.203331,
            lng: 125.890885,
          },
          { lat: 8.203624, lng: 125.890656 },
          { lat: 8.204011, lng: 125.890568 },
          { lat: 8.206049, lng: 125.89066 },
          {
            lat: 8.207102,
            lng: 125.918495,
          },
          {
            lat: 8.205874,
            lng: 125.918647,
          },
          {
            lat: 8.205146,
            lng: 125.919053,
          },
          {
            lat: 8.201017,
            lng: 125.919548,
          },
          {
            lat: 8.200641,
            lng: 125.92088,
          },
          {
            lat: 8.199489,
            lng: 125.921959,
          },
          {
            lat: 8.195679,
            lng: 125.921663,
          },
          {
            lat: 8.194674,
            lng: 125.922149,
          },
          {
            lat: 8.192183,
            lng: 125.922361,
          },
          {
            lat: 8.190069,
            lng: 125.925808,
          },
          {
            lat: 8.189399,
            lng: 125.929404,
          },
          {
            lat: 8.1836,
            lng: 125.934586,
          },
          {
            lat: 8.181883,
            lng: 125.937356,
          },
          {
            lat: 8.16771,
            lng: 125.942982,
          },
          {
            lat: 8.165656,
            lng: 125.944983,
          },
          {
            lat: 8.162755,
            lng: 125.949627,
          },
          {
            lat: 8.159399,
            lng: 125.950739,
          },
          {
            lat: 8.156812,
            lng: 125.952735,
          },
          {
            lat: 8.154452,
            lng: 125.952876,
          },
        ],
        fillColor: "#00ffff",
        title: "Nueva Era",
      },
      {
        coordinates: [
          {
            lat: 8.227245,
            lng: 125.974614,
          },
          {
            lat: 8.225454,
            lng: 125.905416,
          },
          {
            lat: 8.226342,
            lng: 125.904142,
          },
          {
            lat: 8.22708,
            lng: 125.90007,
          },
          {
            lat: 8.227544,
            lng: 125.900032,
          },
          {
            lat: 8.227786,
            lng: 125.900375,
          },
          {
            lat: 8.228463,
            lng: 125.9029,
          },
          {
            lat: 8.228444,
            lng: 125.902904,
          },
          {
            lat: 8.229291,
            lng: 125.903449,
          },
          {
            lat: 8.23042,
            lng: 125.90306,
          },
          {
            lat: 8.23064,
            lng: 125.902604,
          },
          {
            lat: 8.229963,
            lng: 125.901113,
          },
          {
            lat: 8.229831,
            lng: 125.900679,
          },
          { lat: 8.229869, lng: 125.8993 },
          { lat: 8.230436, lng: 125.898961 },
          { lat: 8.231064, lng: 125.899105 },
          { lat: 8.231944, lng: 125.900729 },
          { lat: 8.233084, lng: 125.901853 },
          {
            lat: 8.233474,
            lng: 125.901519,
          },
          {
            lat: 8.233915,
            lng: 125.899311,
          },
          {
            lat: 8.235742,
            lng: 125.898544,
          },
          {
            lat: 8.238704,
            lng: 125.89752,
          },
          {
            lat: 8.239513,
            lng: 125.896408,
          },
          {
            lat: 8.239469,
            lng: 125.895729,
          },
          {
            lat: 8.238929,
            lng: 125.89549,
          },
          {
            lat: 8.237471,
            lng: 125.894439,
          },
          {
            lat: 8.237564,
            lng: 125.893861,
          },
          {
            lat: 8.239138,
            lng: 125.893399,
          },
          {
            lat: 8.239892,
            lng: 125.893455,
          },
          {
            lat: 8.240812,
            lng: 125.894072,
          },
          {
            lat: 8.241918,
            lng: 125.894317,
          },
          {
            lat: 8.243371,
            lng: 125.893799,
          },
          {
            lat: 8.244125,
            lng: 125.892999,
          },
          {
            lat: 8.245897,
            lng: 125.892284,
          },
          {
            lat: 8.246407,
            lng: 125.892763,
          },
          {
            lat: 8.247653,
            lng: 125.895646,
          },
          { lat: 8.249072, lng: 125.895247 },
          { lat: 8.248783, lng: 125.892377 },
          {
            lat: 8.249229,
            lng: 125.892187,
          },
          {
            lat: 8.253709,
            lng: 125.891913,
          },
          {
            lat: 8.25833,
            lng: 125.892404,
          },
          {
            lat: 8.260439,
            lng: 125.893895,
          },
          {
            lat: 8.260742,
            lng: 125.893723,
          },
          {
            lat: 8.261801,
            lng: 125.892633,
          },
          {
            lat: 8.262049,
            lng: 125.89258,
          },
          {
            lat: 8.262417,
            lng: 125.892875,
          },
          {
            lat: 8.26243,
            lng: 125.893215,
          },
          {
            lat: 8.261831,
            lng: 125.894901,
          },
          {
            lat: 8.261909,
            lng: 125.895281,
          },
          {
            lat: 8.262173,
            lng: 125.895482,
          },
          {
            lat: 8.26253,
            lng: 125.895476,
          },
          {
            lat: 8.263747,
            lng: 125.894314,
          },
          {
            lat: 8.264897,
            lng: 125.893897,
          },
          {
            lat: 8.265249,
            lng: 125.89408,
          },
          {
            lat: 8.264892,
            lng: 125.895799,
          },
          {
            lat: 8.26591,
            lng: 125.896194,
          },
          {
            lat: 8.266812,
            lng: 125.895003,
          },
          { lat: 8.268585, lng: 125.893513 },
          {
            lat: 8.269036,
            lng: 125.893847,
          },
          {
            lat: 8.270566,
            lng: 125.897717,
          },
          { lat: 8.270484, lng: 125.900537 },
          { lat: 8.277403, lng: 125.902859 },
          { lat: 8.27822, lng: 125.901776 },
          {
            lat: 8.278522,
            lng: 125.900917,
          },
          {
            lat: 8.282169,
            lng: 125.897549,
          },
          {
            lat: 8.284651,
            lng: 125.896569,
          },
          {
            lat: 8.284822,
            lng: 125.89733,
          },
          {
            lat: 8.285056,
            lng: 125.900306,
          },
          {
            lat: 8.286362,
            lng: 125.902082,
          },
          {
            lat: 8.286402,
            lng: 125.903252,
          },
          {
            lat: 8.285233,
            lng: 125.904705,
          },
          {
            lat: 8.284257,
            lng: 125.906253,
          },
          {
            lat: 8.284421,
            lng: 125.907137,
          },
          {
            lat: 8.285324,
            lng: 125.908035,
          },
          {
            lat: 8.286581,
            lng: 125.908367,
          },
          {
            lat: 8.288126,
            lng: 125.90809,
          },
          {
            lat: 8.28978,
            lng: 125.908325,
          },
          {
            lat: 8.291454,
            lng: 125.908629,
          },
          {
            lat: 8.292978,
            lng: 125.908394,
          },
          {
            lat: 8.291395,
            lng: 125.959162,
          },
        ],
        fillColor: "#0000ff",
        title: "San Marcos",
      },
    ];

    if (barangay && barangay !== "all") {
      polygons = polygons.filter((polygonData) => {
        // Only include polygons whose title matches the barangay prop
        return polygonData.title === barangay;
      });
    }

    // Create polygons
    if (crimes && crimes.length > 0) {
      polygons.forEach((polygonData) => {
        const polygon = new window.google.maps.Polygon({
          paths: polygonData.coordinates,
          strokeColor: "#ffffff",
          strokeOpacity: 0.8,
          strokeWeight: 2,
          fillColor: polygonData.fillColor,
          fillOpacity: 0.6,
        });
        polygon.setMap(map);
      });
    }

    // Create markers for each crime
    const infowindow = new window.google.maps.InfoWindow();

    crimes.forEach((crime) => {
      const marker = new window.google.maps.Marker({
        position: {
          lat: parseFloat(crime.latitude),
          lng: parseFloat(crime.longitude),
        },
        map: map,
        title: crime.offense,
        icon: {
          url:
            crime.type === "index"
              ? `${clientUrl}/mark1.svg`
              : `${clientUrl}/mark2.svg`,
          scaledSize: new window.google.maps.Size(32, 32),
        },
      });

      marker.addListener("click", () => {
        infowindow.setContent(`<div>
                <h2>${crime.offense}</h2>
              </div>`);
        infowindow.open(map, marker);
      });
    });
  }, [crimes]);

  return <div id="map" className="w-[100%] h-[35rem] md:h-[800px]"></div>;
};

export default PolygonMap;
